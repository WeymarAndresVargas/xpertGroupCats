<div class="flex flex-column justify-center items-center h-screen bg-sky-100 p-[1rem]">
	<p-toast></p-toast>

	<div class="login-content" >
		<p-card class="login-card">
			<ng-template pTemplate="header">
				<div class="login-header">
					<h1>Cat Breeds App</h1>
				</div>
			</ng-template>

			<h2>Iniciar Sesión</h2>
			<form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
				<div class="form-field">
					<label for="email">Correo Electrónico</label>
					<p-iconfield>
						<p-inputicon class="pi pi-envelope"></p-inputicon>
						<input
							id="email"
							type="email"
							pInputText
							formControlName="email"
							placeholder="correo@ejemplo.com"
							class="w-full"
							[ngClass]="{'ng-invalid ng-dirty': email?.invalid && email?.touched}"
						/>
					</p-iconfield>
					<small *ngIf="email?.invalid && email?.touched" class="p-error">
						<span *ngIf="email?.errors?.['required']">El correo electrónico es obligatorio</span>
						<span *ngIf="email?.errors?.['email']">Ingrese un correo electrónico válido</span>
					</small>
				</div>

				<div class="form-field">
					<label for="password">Contraseña</label>
					<p-iconfield>
						<p-inputicon class="pi pi-lock"></p-inputicon>
						<p-password
							class="w-full"
							id="password"
							formControlName="password"
							[feedback]="false"
							[toggleMask]="true"
							placeholder="Contraseña"
							[ngClass]="{'ng-invalid ng-dirty': password?.invalid && password?.touched}"
						></p-password>
					</p-iconfield>
					@if (password?.invalid && password?.touched) {
						<small class="p-error">
							@if (password?.errors?.['required']) {
								<span>La contraseña es obligatoria</span>
							}
							@if (password?.errors?.['minlength']) {
								<span>La contraseña debe tener al menos 6 caracteres</span>
							}
						</small>
					}
				</div>


				<div class="form-actions">
					<p-button
						type="submit"
						label="Iniciar Sesión"
						styleClass="w-full"
						[loading]="isSubmitting">
					</p-button>
				</div>
			</form>
		</p-card>
	</div>
</div>
